$(function(){$("a[href='apigame.html']").addClass('active');$("a[href='apigame.html']").parent().parent().parent().addClass('active');var controller=new ScrollMagic.Controller({container:"#content-wrapper"});$('#content-wrapper').on('scroll',function(){controller.update();});var sections=['#slide1','#slide2','#slide3','#slide4','#slide5','#slide6'];var scenes=[];sections.forEach(function(slide,index){new ScrollMagic.Scene({triggerElement:slide}).on("enter",function(event){$(slide).addClass('is-active');}).addTo(controller);if(index>0){var $bg1=$(slide).find('.bg1');var $bg2=$(slide).find('.bg2');var $bg3=$(slide).find('.bg3');var tl=new TimelineMax();if(index!=4){tl.to($bg1,1,{top:'-20',ease:Power1.easeOut})
tl.to($bg2,1,{top:'-30',ease:Power1.easeOut},'-=1')
tl.to($bg3,1,{top:'-40',ease:Power1.easeOut},'-=1');}else{tl.to($bg1,1,{top:'-=10%',ease:Power1.easeOut})
tl.to($bg2,1,{top:'-=60%',ease:Power1.easeOut},'-=1');}
var slideParallaxScene=new ScrollMagic.Scene({triggerElement:slide,duration:$(slide).innerHeight()}).setTween(tl).addTo(controller);scenes.push(slideParallaxScene);}});$(window).resize(function(){scenes.forEach(function(scene,index){var duration=$(sections[index+1]).innerHeight();scene.duration(duration);scene.refresh();});});});